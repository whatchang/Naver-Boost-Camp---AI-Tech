# Day 17 이미지 분류 5~6 강

## 목차 

1. [강의 내용 정리](#1-강의-내용-정리)

2. [Competition](#2-Competition)

3. [피어세션 정리](#3-피어세션-정리)

<!--4. [흥미있던 질문들](#4-흥미있던-질문들)-->

4. [학습 회고](#4-학습-회고)



----

### 1. 강의 내용 정리

* 이미지 분류 5~6강
    * 5강 : Model 1
        * nn.Module<br>
        &nbsp; - &nbsp; U_Staage에서 배운 이론을 토대로 대회형식으로 실습하는 과정이다. 즉, 경진대회를 통해서 배운 이론을 직접 코드로 작성하여 익히는 과정이다. <br>
        <br>

        * Overview에 주목하자!<br>
        &nbsp; - &nbsp; 해결해야 하는 문제가 무엇인지 확인하자. <- 어느 분야의 문제인지, 어떤 부분이 해결해야 되는 문제인지 등<br>
        &nbsp; - &nbsp; overview를 통해서 대회를 개최한 배경에 대해서 알게 되면 학습 및 데이터를 활용할때 도움이 된다.<br><br>
        &nbsp; - &nbsp; 문제 정의하기!<br>
        &nbsp;&nbsp;&nbsp;&nbsp; * &nbsp; 내가 지금 풀어야 할 문제가 무엇인지? <br>
        &nbsp;&nbsp;&nbsp;&nbsp; * &nbsp; 이 문제의 input과 output은 무엇인가?<br>
        &nbsp;&nbsp;&nbsp;&nbsp; * &nbsp; 이 솔루션은 어디서 어떻게 사용되는지는가?<br><br>
        &nbsp; - &nbsp; data description을 잘 읽자!<br><br>
        &nbsp; - &nbsp; 등수도 중요하지만 성장(배움)도 중요하다! 서로의 지식을 공유하자!<br>
        <br>

        * 내가 P_Stage에서 얻고자 하는 것 생각해보기 <br>
        &nbsp; - &nbsp; 등수가 목적이 아닌 __배움이 목적__ 인 것을 잊지 말자!!!!(매우 중요)<br>
        &nbsp; - &nbsp; 데이터 전처리부터 ~ 데이터 학습 및 평가까지 코드 스스로 작성 해보기<br>
        &nbsp; - &nbsp; 위에서 작성하는 각 부분마다 어떤점을 주의해야 하고 어떤 부분에서 내가 실수를 많이 하는지 파악하기<br>
        &nbsp; - &nbsp; pre_trained 모델도 사용해 보고 augmentation도 해보고 parameter tuning도 해보고 이것저것 해보면서 경험쌓기<br>

        * 이번 competition에서 내 스스로 주의할 점<br>
        &nbsp; - &nbsp; 남과 비교하지 않기 -> 차리리 잘하는 사람보고 '나도 저렇게 잘 하고 싶디.... 그러니까 기초부터 차근차근 쌓아서 지금보다 더 발전해야지'라는 생각으로 동기부여 받는 정도로만 생각하기, 결코 못난 내 자신 비하하지 않기!<br>
        &nbsp; - &nbsp; 피어세션때 다른 사람이 말하는 내용 중에 모르는 내용이나 competition 코드 어렵거나 해결이 잘 안되는 문제에 대해서 적극적으로 질문하기! -> 절대로 아는척 가만히 있지 않기! 모르는 건 꼭 질문! <br>
        &nbsp; - &nbsp; 다음 날 지장이 갈 만큼 무리하지 말기! -> 저번에 약속한 취침시간 꼭 지키기!<br>

        <br>

    * 6강 :  EDA(Explorary Data Analysis)
        * EDA란?<br>
        &nbsp; - &nbsp; 데이터를 이해하기 위한 노력<br> 
        <br>

        * 어떻게 해야 할까?<br>
        &nbsp; - &nbsp; EDA를 주어진 데이터에 대한 자신의 생각을 채워넣는 서술형 문제라고 생각하면 좋다.<br>
        &nbsp;&nbsp;&nbsp;&nbsp; - &nbsp; 자신만의 생각/방식으로 접근<br>
        &nbsp;&nbsp;&nbsp;&nbsp; - &nbsp; EDA에 정답은 없다. -> 여러 방식으로 접근해보면서 자신의 방식을 만들자!<br>
        <br>

        <br>

        * 마스터님이 생각하는 EDA란<br>
        &nbsp; - &nbsp; 데이터를 분석하기 위한 모든 접근 방식<br>
        &nbsp; - &nbsp; 화련한 코드 거창한 생각등이 아닌 자신이 데이터를 보고 의문점이 듣는 거에 대해서 파헤치면서 데이터를 이해하는 것! -> 파헤치기 위한 도구가 코드일뿐 코드 말고 다른 방식을 사용해도 된다! 그러니 너무 겁먹지 말자!<br>
        

        <br>
    

### 2. Competition
<br>

####  Pretrained Model에서 DenseNet161, Inception_v3, VGG19 등을 적용해봤다. DenseNet16과 Inception_v3는 batch size를 너무 크게 잡아서 메모리 부족으로 
#### 제대로 학습을 시키지 못하였으나 다른 캠퍼님의 도움으로 batch size만 바꾸면 된다는 것을 알게 되어 저녁에 적용을 시켜보았다. 이때 denseNet같은 경우는 k fold와 같이 적용시켜서 학습된 모델을 테스트 하는데
#### 사용했는데 성능이 매우 안 좋았다. 어떤 부분에서 내가 실수를 한 것 같다. 이 부분에 대해서는 추후 찾아 볼 생각이다. inception같은 경우는 "AttributeError: 'InceptionOutputs' object has no attribute 'dim'"
#### 이와 같은 오류가 발생해서 사용해보지 못했다.

<br>

#### k-fold와 같은 경우에는 스스로 직접 구현한 것이 아니라 다른 사람이 작성한 코드를 사용해서 변수명과 기타 부분 등을 바꿔서 돌렸다. 그래서 이 부분에 대해서 따로 공부할 예정이다.

<br>

#### 오늘 최고 정확도는 61.191, f1 점수는 0.482이다. 

<br>

### 3. 피어세션 정리
<br>
20210825 피어세션
<br>
🔍[마스크 데이터 분류 대회]

* out of memory 문제 -> batch size를 조정하니까 해결이 되었다.
* Hidden file 은 삭제해도 되는가 ? -> 보안때문에 해놓은것으로 올라왔다.
* Training Acc와 Val Acc는 잘 나오는데 Test에서는 잘 안나온다 ? -> 오버 피팅 가능성, 우리 Competition에 Transfer Learning의 사용이 맞는지 잘 모르겠다.
* *이터 불균형 해소 방법으로 적은 데이터의 갯수에 맞춰서 학습을 시키면 되지않나? -> 이걸 under sampling이라고 하는데 이것은 데이터의 손실이 많아서 이보다는 Over Sampling이나 다른 기법들을 사용하는것이 좋을것 같다.
* Pretrained 모델의 Back bone에서 앞부분의 freeze를 풀고 학습 하면 안되나? -> 원래는 층이 깊어질수록 고차원의 피쳐를 인식할수 있는데 Wide resnet의 경우 깊이를 반을 줄여서, 깊어질수록 좋지는 않다.
* 데이터에서 label이 잘못 된게 있는데 이걸 확인해보고 있다. -> 아예 다 제외하고 학습 할 것인가, 아니면 고칠것인가 ??
* EDA Example을 사용해 전처리를 해보았다. -> CV 라이브러리로 얼굴을 찾아주는 기능을 사용해서 바운딩박스를 찾아보도록 해봤다. -> 이를 통해 데이터 대부분의 얼굴들이 가운데 있었던것 같다. -> 마스크를 쓰고있는 데이터의 경우 이 라이브러리에는 학습이 되어있지 않아서 잘 찾지 못했다.
* 이미지를 흑백으로 바꿔서 학습을 하면 잘 안되는가?? -> 아마 배경의 노이즈에 영향을 많이 받을것 같다.
* 데이터 셋의 Transform은 매 epoch마다 적용된다.



<br><br>

### 4. 학습 회고

#### 피어세션때 EDA관련, 데이터 관련, 모델 관련 등 여러 이야기를 했고 나는 그 중에서 normal과 incorrrect mask 부분의 데이터가 상대적으로 적음으로 이 부분에 대해서 해결해보고 싶다는 생각이 들었다.
#### train당 7장의 데이터(5장의 wear mask, 1장의 normal, 1장의 incorrect mask)가 있는데 이 중에서 3장을 가져와서 좌우로 10도 정도 회전시켜서 데이터를 augmentation 시키고 새로운 label을 만들어서 train시킬 생각이다.

<br>

#### 첫날에 생각했던 아래의 것들을 잊지 말고 P_Stage를 참여하면 좋겠다.


    내가 P_Stage에서 얻고자 하는 것 생각해보기 

        1. 등수가 목적이 아닌 배움이 목적인 것을 잊지 말자!!!!
        2. 데이터 전처리부터 ~ 데이터 학습 및 평가까지 코드 스스로 작성 해보기
        3.위에서 작성하는 각 부분마다 어떤점을 주의해야 하고 어떤 부분에서 내가 실수를 많이 하는지   파악하기
        4. pre_trained 모델도 사용해 보고 augmentation도 해보고 parameter tuning도 해보고 이것저것 해보면서 경험쌓기


    이번 competition에서 내 스스로 주의할 점

        1. 남과 비교하지 않기 -> 차리리 잘하는 사람보고 '나도 저렇게 잘 하고 싶디.... 그러니까 기초부터 차근차근 쌓아서 지금보다 더 발전해야지'라는 생각으로 동기부여 받는 정도로만 생각하기, 결코 못난 내 자신 비하하지 않기!
        2. 피어세션때 다른 사람이 말하는 내용 중에 모르는 내용이나 competition 코드 어렵거나 해결이 잘 안되는 문제에 대해서 적극적으로 질문하기! -> 절대로 아는척 가만히 있지 않기! 모르는 건 꼭 질문! 
        3. 다음 날 지장이 갈 만큼 무리하지 말기! -> 저번에 약속한 취침시간 꼭 지키기!

<br>

#### Burn-out 되지 않게 남들보다 뒤쳐지더라도 내 속도로 꾸준히 노력하자!!!
#### 오늘도 수고했고 내일도 화이팅~~~!👍


